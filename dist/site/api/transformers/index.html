<!doctype html>
    <html>
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <script src="/path/to/client.js" defer></script>
        <link href="https://fonts.googleapis.com/css?family=Cousine|Montserrat:400,700" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="styles.css">
        <link rel="canonical" href="/api/transformers" />
        <meta name="twitter:card" content="summary"/>
        <meta name="twitter:site" content="@popmotion"/>
        <meta name="twitter:domain" content="httsp://popmotion.io"/>
        <meta name="twitter:creator" content="@popmotion"/>

        <link rel="icon" type="image/png" href="assets/favicon.png" />
        <link rel="apple-touch-icon-precomposed" href="assets/favicon.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title data-react-helmet="true">Transformers | Popmotion</title>
        
        
      </head>
      <body>
        <div data-reactroot="" data-reactid="1" data-react-checksum="-1199587114"><!-- react-empty: 2 --><h1 id="transformers" data-reactid="3"><!-- react-text: 4 -->Transformers<!-- /react-text --></h1><p data-reactid="5"><!-- react-text: 6 -->An Action’s <!-- /react-text --><code data-reactid="7">onUpdate</code><!-- react-text: 8 --> prop is a callback receives <!-- /react-text --><code data-reactid="9">value</code><!-- react-text: 10 --> as an argument. We can use transformers to change and filter this value before using it:<!-- /react-text --></p><pre data-reactid="11"><code class="language-javascript" data-reactid="12">import { tween, transform } from &#x27;popmotion&#x27;;
const { flow, clamp } = transform;

tween({
  from: 0,
  to: 255,
  onUpdate: flow(
    clamp(0, 255),
    Math.round,
    console.log
  )
}).start();</code></pre><h2 id="preset-transformers" data-reactid="13"><!-- react-text: 14 -->Preset transformers<!-- /react-text --></h2><h3 id="{{367}}" data-reactid="15"><!-- react-text: 16 --><!-- /react-text --><code data-reactid="17">appendUnit</code><!-- react-text: 18 --><!-- /react-text --></h3><p data-reactid="19"><!-- react-text: 20 -->Returns a function that, when given a value, returns that value appended with the provided <!-- /react-text --><code data-reactid="21">unit</code><!-- react-text: 22 -->.<!-- /react-text --></p><p data-reactid="23"><!-- react-text: 24 --><!-- /react-text --><code data-reactid="25">appendUnit(unit &lt;String&gt;)</code><!-- react-text: 26 --><!-- /react-text --></p><pre data-reactid="27"><code class="language-javascript" data-reactid="28">const convertToPx = appendUnit(&#x27;px&#x27;);
convertToPx(5); // &#x27;5px&#x27;</code></pre><h3 id="{{372}}" data-reactid="29"><!-- react-text: 30 --><!-- /react-text --><code data-reactid="31">blendColor</code><!-- react-text: 32 --><!-- /react-text --></h3><p data-reactid="33"><!-- react-text: 34 -->Given two colors, returns a function that takes a progress value (0 - 1) and returns a correctly blended color.<!-- /react-text --></p><p data-reactid="35"><!-- react-text: 36 -->See the YouTube video <!-- /react-text --><a href="https://www.youtube.com/watch?v=LKnqECcg6Gw" target="new" data-reactid="37"><!-- react-text: 38 -->Computer Color is Broken<!-- /react-text --></a><!-- react-text: 39 --> for more information.<!-- /react-text --></p><p data-reactid="40"><!-- react-text: 41 --><!-- /react-text --><code data-reactid="42">blendColor(colorA &lt;String | Object&gt;, colorB &lt;String | Object&gt;)</code><!-- react-text: 43 --><!-- /react-text --></p><pre data-reactid="44"><code class="language-javascript" data-reactid="45">const blendRedToBlue = blendColor(&#x27;#f00&#x27;, &#x27;#00f&#x27;);
blendRedToBlue(0.5); // Returns blended object with rgba properties</code></pre><h3 id="{{378}}" data-reactid="46"><!-- react-text: 47 --><!-- /react-text --><code data-reactid="48">clampMax</code><!-- react-text: 49 --><!-- /react-text --></h3><p data-reactid="50"><!-- react-text: 51 -->Returns a function that caps given values to below <!-- /react-text --><code data-reactid="52">max</code><!-- react-text: 53 -->.<!-- /react-text --></p><p data-reactid="54"><!-- react-text: 55 --><!-- /react-text --><code data-reactid="56">clampMax(max &lt;Number&gt;)</code><!-- react-text: 57 --><!-- /react-text --></p><pre data-reactid="58"><code class="language-javascript" data-reactid="59">const capTo50 = clampMax(50);
capTo50(100); // 50</code></pre><h3 id="{{383}}" data-reactid="60"><!-- react-text: 61 --><!-- /react-text --><code data-reactid="62">clampMin</code><!-- react-text: 63 --><!-- /react-text --></h3><p data-reactid="64"><!-- react-text: 65 -->Returns a function that caps given values to above <!-- /react-text --><code data-reactid="66">min</code><!-- react-text: 67 -->.<!-- /react-text --></p><p data-reactid="68"><!-- react-text: 69 --><!-- /react-text --><code data-reactid="70">clampMin(min &lt;Number&gt;)</code><!-- react-text: 71 --><!-- /react-text --></p><pre data-reactid="72"><code class="language-javascript" data-reactid="73">const keepAbove0 = clampMin(0);
keepAbove0(-100); // 0</code></pre><h3 id="{{388}}" data-reactid="74"><!-- react-text: 75 --><!-- /react-text --><code data-reactid="76">clamp</code><!-- react-text: 77 --><!-- /react-text --></h3><p data-reactid="78"><!-- react-text: 79 -->Returns a function that restricts given values to within the provided range.<!-- /react-text --></p><p data-reactid="80"><!-- react-text: 81 --><!-- /react-text --><code data-reactid="82">clamp(min &lt;Number&gt;, max &lt;Number&gt;)</code><!-- react-text: 83 --><!-- /react-text --></p><pre data-reactid="84"><code class="language-javascript" data-reactid="85">const rgbRange = clamp(0, 255);
rgbRange(256); // 255</code></pre><h3 id="{{392}}" data-reactid="86"><!-- react-text: 87 --><!-- /react-text --><code data-reactid="88">conditional</code><!-- react-text: 89 --><!-- /react-text --></h3><p data-reactid="90"><!-- react-text: 91 -->Returns a function that fires <!-- /react-text --><code data-reactid="92">check</code><!-- react-text: 93 --> when provided a <!-- /react-text --><code data-reactid="94">value</code><!-- react-text: 95 -->. Returns <!-- /react-text --><code data-reactid="96">value</code><!-- react-text: 97 --> as passed to <!-- /react-text --><code data-reactid="98">ifTrue</code><!-- react-text: 99 --> if <!-- /react-text --><code data-reactid="100">check</code><!-- react-text: 101 --> returns <!-- /react-text --><code data-reactid="102">true</code><!-- react-text: 103 -->, or <!-- /react-text --><code data-reactid="104">ifFalse</code><!-- react-text: 105 --> if <!-- /react-text --><code data-reactid="106">check</code><!-- react-text: 107 --> returns <!-- /react-text --><code data-reactid="108">false</code><!-- react-text: 109 -->.<!-- /react-text --></p><p data-reactid="110"><!-- react-text: 111 --><!-- /react-text --><code data-reactid="112">ifFalse</code><!-- react-text: 113 --> is optional, and will return <!-- /react-text --><code data-reactid="114">value</code><!-- react-text: 115 --> unaltered if not defined.<!-- /react-text --></p><p data-reactid="116"><!-- react-text: 117 --><!-- /react-text --><code data-reactid="118">conditional(check &lt;Function&gt;, ifTrue &lt;Function&gt;, ifFalse &lt;Function&gt;)</code><!-- react-text: 119 --><!-- /react-text --></p><pre data-reactid="120"><code class="language-javascript" data-reactid="121">const LIMIT = 0;
const tetherToZero = conditional(
  (v) =&gt; v &lt; LIMIT,
  spring(5, LIMIT)
);
tetherToZero(-20); // passed to `spring`
tetherToZero(50); // not passed to `spring`</code></pre><h3 id="{{408}}" data-reactid="122"><!-- react-text: 123 --><!-- /react-text --><code data-reactid="124">flow</code><!-- react-text: 125 --><!-- /react-text --></h3><p data-reactid="126"><!-- react-text: 127 -->Used to compose other transformers, from left to right. The first argument passed to the returned function will be the value and any subsequent arguments will be passed to all functions unaltered.<!-- /react-text --></p><p data-reactid="128"><!-- react-text: 129 --><!-- /react-text --><code data-reactid="130">flow(...funcs &lt;Functions&gt;)</code><!-- react-text: 131 --><!-- /react-text --></p><pre data-reactid="132"><code class="language-javascript" data-reactid="133">const rgbType = flow(
  clamp(0, 255),
  Math.round
);

rgbType(12.25); // 12</code></pre><h3 id="{{412}}" data-reactid="134"><!-- react-text: 135 --><!-- /react-text --><code data-reactid="136">interpolate</code><!-- react-text: 137 --><!-- /react-text --></h3><p data-reactid="138"><!-- react-text: 139 -->Returns a function that, when passed a value, interpolates from the <!-- /react-text --><code data-reactid="140">inputRange</code><!-- react-text: 141 --> to the <!-- /react-text --><code data-reactid="142">outputRange</code><!-- react-text: 143 -->.<!-- /react-text --></p><p data-reactid="144"><!-- react-text: 145 -->An optional easing function can be passed as the third argument, otherwise linear interpolation will be used by default.<!-- /react-text --></p><p data-reactid="146"><!-- react-text: 147 -->Provided values outside the given ranges will be clamped to the output range limits.<!-- /react-text --></p><p data-reactid="148"><!-- react-text: 149 --><!-- /react-text --><code data-reactid="150">interpolate(inputRange &lt;Array&gt;, outputRange &lt;Array&gt;, ease &lt;Function&gt;)</code><!-- react-text: 151 --><!-- /react-text --></p><pre data-reactid="152"><code class="language-javascript" data-reactid="153">const invert = interpolate([0, 100], [100, 0]);
invert(75); // 25

const foo = interpolate(
  [0, 50, 100],
  [0, 0.5, 0]
);
foo(75); // 0.25</code></pre><h3 id="{{420}}" data-reactid="154"><!-- react-text: 155 --><!-- /react-text --><code data-reactid="156">steps</code><!-- react-text: 157 --><!-- /react-text --></h3><p data-reactid="158"><!-- react-text: 159 -->Given a number of steps and a range, returns a function that will fix a given value to the specific number of descrete steps within that range.<!-- /react-text --></p><p data-reactid="160"><!-- react-text: 161 --><!-- /react-text --><code data-reactid="162">steps(steps &lt;Number&gt;, min &lt;Number&gt;, max &lt;Number&gt;)</code><!-- react-text: 163 --><!-- /react-text --></p><pre data-reactid="164"><code class="language-javascript" data-reactid="165">const threeStep = steps(3, 0.4);
threeStep(0.1); // 0
threeStep(0.4); // 0.5
threeStep(0.9); // 1</code></pre><h3 id="{{424}}" data-reactid="166"><!-- react-text: 167 --><!-- /react-text --><code data-reactid="168">spring</code><!-- react-text: 169 --><!-- /react-text --></h3><p data-reactid="170"><!-- react-text: 171 -->Creates a spring that, given an elasticity and an origin, will treat the provided value as a displacement.<!-- /react-text --></p><p data-reactid="172"><!-- react-text: 173 --><!-- /react-text --><code data-reactid="174">spring(elasticity &lt;Number&gt;, origin &lt;Number&gt;)</code><!-- react-text: 175 --><!-- /react-text --></p><h3 id="{{428}}" data-reactid="176"><!-- react-text: 177 --><!-- /react-text --><code data-reactid="178">nonlinearSpring</code><!-- react-text: 179 --><!-- /react-text --></h3><p data-reactid="180"><!-- react-text: 181 -->Creates a spring that has a non-linear effect on the displacement - the greater the displacement, the greater effect on the provided value.<!-- /react-text --></p><p data-reactid="182"><!-- react-text: 183 --><!-- /react-text --><code data-reactid="184">nonlinearSpring(elasticity &lt;Number&gt;, origin &lt;Number&gt;)</code><!-- react-text: 185 --><!-- /react-text --></p><h3 id="{{432}}" data-reactid="186"><!-- react-text: 187 --><!-- /react-text --><code data-reactid="188">wrap</code><!-- react-text: 189 --><!-- /react-text --></h3><p data-reactid="190"><!-- react-text: 191 -->Wraps a number around.<!-- /react-text --></p><p data-reactid="192"><!-- react-text: 193 --><!-- /react-text --><code data-reactid="194">wrap(min &lt;Number&gt;, max &lt;Number&gt;)</code><!-- react-text: 195 --><!-- /react-text --></p><pre data-reactid="196"><code class="language-javascript" data-reactid="197">physics({
  velocity: 1000,
  onUpdate: flow(
    wrap(100, 400),
    console.log
  )
});</code></pre><h2 id="calculation-transformers" data-reactid="198"><!-- react-text: 199 -->Calculation transformers<!-- /react-text --></h2><h3 id="{{436}}" data-reactid="200"><!-- react-text: 201 --><!-- /react-text --><code data-reactid="202">add</code><!-- react-text: 203 --><!-- /react-text --></h3><p data-reactid="204"><!-- react-text: 205 -->Returns a function that will return the provided <!-- /react-text --><code data-reactid="206">value</code><!-- react-text: 207 --> with the given <!-- /react-text --><code data-reactid="208">valueToAdded</code><!-- react-text: 209 --> added.<!-- /react-text --></p><p data-reactid="210"><!-- react-text: 211 --><!-- /react-text --><code data-reactid="212">add(valueToAdd &lt;Number&gt;)</code><!-- react-text: 213 --><!-- /react-text --></p><pre data-reactid="214"><code class="language-javascript" data-reactid="215">add(10)(100); // 110</code></pre><h3 id="{{442}}" data-reactid="216"><!-- react-text: 217 --><!-- /react-text --><code data-reactid="218">subtract</code><!-- react-text: 219 --><!-- /react-text --></h3><p data-reactid="220"><!-- react-text: 221 -->Returns a function that will return the provided <!-- /react-text --><code data-reactid="222">value</code><!-- react-text: 223 --> with the given <!-- /react-text --><code data-reactid="224">valueToSubtract</code><!-- react-text: 225 --> subtracted.<!-- /react-text --></p><p data-reactid="226"><!-- react-text: 227 --><!-- /react-text --><code data-reactid="228">subtract(valueToSubtract &lt;Number&gt;)</code><!-- react-text: 229 --><!-- /react-text --></p><pre data-reactid="230"><code class="language-javascript" data-reactid="231">subtract(10)(100); // 90</code></pre><h2 id="unit-transformers" data-reactid="232"><!-- react-text: 233 -->Unit transformers<!-- /react-text --></h2><h3 id="{{448}}" data-reactid="234"><!-- react-text: 235 --><!-- /react-text --><code data-reactid="236">alpha</code><!-- react-text: 237 --><!-- /react-text --></h3><p data-reactid="238"><!-- react-text: 239 -->Returns a valid alpha value.<!-- /react-text --></p><p data-reactid="240"><!-- react-text: 241 --><!-- /react-text --><code data-reactid="242">alpha(&lt;Number&gt;)</code><!-- react-text: 243 --><!-- /react-text --></p><pre data-reactid="244"><code class="language-javascript" data-reactid="245">alpha(2); // 1</code></pre><h3 id="{{452}}" data-reactid="246"><!-- react-text: 247 --><!-- /react-text --><code data-reactid="248">degrees</code><!-- react-text: 249 --><!-- /react-text --></h3><p data-reactid="250"><!-- react-text: 251 -->Appends ‘degrees’ unit type.<!-- /react-text --></p><p data-reactid="252"><!-- react-text: 253 --><!-- /react-text --><code data-reactid="254">degrees(&lt;Number&gt;)</code><!-- react-text: 255 --><!-- /react-text --></p><pre data-reactid="256"><code class="language-javascript" data-reactid="257">degrees(360); // &#x27;360deg&#x27;</code></pre><h3 id="{{456}}" data-reactid="258"><!-- react-text: 259 --><!-- /react-text --><code data-reactid="260">hsla</code><!-- react-text: 261 --><!-- /react-text --></h3><p data-reactid="262"><!-- react-text: 263 -->Converts composite value to a valid <!-- /react-text --><code data-reactid="264">hsla</code><!-- react-text: 265 --> value.<!-- /react-text --></p><p data-reactid="266"><!-- react-text: 267 --><!-- /react-text --><code data-reactid="268">hsla(colors &lt;Object&gt;)</code><!-- react-text: 269 --><!-- /react-text --></p><pre data-reactid="270"><code class="language-javascript" data-reactid="271">hsla({
  hue: 100,
  saturation: 50,
  lightness: 50,
  alpha: 1
}); // &#x27;hsla(100, 50%, 50%, 1)&#x27;</code></pre><h3 id="{{461}}" data-reactid="272"><!-- react-text: 273 --><!-- /react-text --><code data-reactid="274">rgba</code><!-- react-text: 275 --><!-- /react-text --></h3><p data-reactid="276"><!-- react-text: 277 -->Converts composite value to a valid <!-- /react-text --><code data-reactid="278">rgba</code><!-- react-text: 279 --> value.<!-- /react-text --></p><p data-reactid="280"><!-- react-text: 281 --><!-- /react-text --><code data-reactid="282">rgba(colors &lt;Object&gt;)</code><!-- react-text: 283 --><!-- /react-text --></p><pre data-reactid="284"><code class="language-javascript" data-reactid="285">rgba({
  red: 256,
  green: 24.5,
  blue: 0
}); // &#x27;rgba(255, 25, 0, 1)&#x27;</code></pre><h3 id="{{466}}" data-reactid="286"><!-- react-text: 287 --><!-- /react-text --><code data-reactid="288">rgbUnit</code><!-- react-text: 289 --><!-- /react-text --></h3><p data-reactid="290"><!-- react-text: 291 -->Converts to a valid RGB value.<!-- /react-text --></p><p data-reactid="292"><!-- react-text: 293 --><!-- /react-text --><code data-reactid="294">rgbUnit(&lt;Number&gt;)</code><!-- react-text: 295 --><!-- /react-text --></p><pre data-reactid="296"><code class="language-javascript" data-reactid="297">rgbUnit(256); // 255
rgbUnit(24.5); // 25</code></pre><h3 id="{{470}}" data-reactid="298"><!-- react-text: 299 --><!-- /react-text --><code data-reactid="300">percent</code><!-- react-text: 301 --><!-- /react-text --></h3><p data-reactid="302"><!-- react-text: 303 -->Appends ‘%’ unit type.<!-- /react-text --></p><p data-reactid="304"><!-- react-text: 305 --><!-- /react-text --><code data-reactid="306">percent(&lt;Number&gt;)</code><!-- react-text: 307 --><!-- /react-text --></p><pre data-reactid="308"><code class="language-javascript" data-reactid="309">percent(100); // &#x27;100%&#x27;</code></pre><h3 id="{{474}}" data-reactid="310"><!-- react-text: 311 --><!-- /react-text --><code data-reactid="312">px</code><!-- react-text: 313 --><!-- /react-text --></h3><p data-reactid="314"><!-- react-text: 315 -->Appends ‘px’ unit type.<!-- /react-text --></p><p data-reactid="316"><!-- react-text: 317 --><!-- /react-text --><code data-reactid="318">px(&lt;Number&gt;)</code><!-- react-text: 319 --><!-- /react-text --></p><pre data-reactid="320"><code class="language-javascript" data-reactid="321">px(10); // &#x27;10px&#x27;</code></pre></div>
      </body>
    </html>
  